<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.60">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="/fffxx/favicon.ico"><title>优化 - 防抖和节流 | PHYGRAY</title><meta name="description" content="">
    <link rel="modulepreload" href="/fffxx/assets/app-321605fc.js"><link rel="modulepreload" href="/fffxx/assets/framework-4a7f5a2b.js"><link rel="modulepreload" href="/fffxx/assets/22032801.html-8faa9cef.js"><link rel="modulepreload" href="/fffxx/assets/22032801.html-5fd55f07.js"><link rel="prefetch" href="/fffxx/assets/index.html-6d5e9dd3.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-4e949af6.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-f9763ca4.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-0769d525.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-57cf70db.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-832c736a.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-5e32f5aa.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-27e68ae7.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-5d7f901a.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-a6e2f07d.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-4ec07dcf.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-b18ac552.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-9f4c7efb.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-e6998b39.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-d64c9b88.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-ffede1bd.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-2dc102a3.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-b9dd35bf.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-1399dea5.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-9a902ec4.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-c44eaf8d.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-da87c5be.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-13e27fd9.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-424c6b41.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-ac0bfe85.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-a4276209.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-fca2387f.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-04d19b03.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-b5b12757.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-9981f4f3.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-4444b760.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-9da08a3d.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-85953406.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-1a88d37b.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-6dbbf886.js" as="script"><link rel="prefetch" href="/fffxx/assets/example.html-14ae219d.js" as="script"><link rel="prefetch" href="/fffxx/assets/22101001.html-9dc9d229.js" as="script"><link rel="prefetch" href="/fffxx/assets/22101803.html-2bea0b5c.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-ce079f63.js" as="script"><link rel="prefetch" href="/fffxx/assets/21052801.html-3f24ef87.js" as="script"><link rel="prefetch" href="/fffxx/assets/21060501.html-6f85348d.js" as="script"><link rel="prefetch" href="/fffxx/assets/21061101.html-1765d786.js" as="script"><link rel="prefetch" href="/fffxx/assets/21061701.html-cb437092.js" as="script"><link rel="prefetch" href="/fffxx/assets/21121801.html-81cfb77d.js" as="script"><link rel="prefetch" href="/fffxx/assets/22012601.html-02564ae7.js" as="script"><link rel="prefetch" href="/fffxx/assets/21062601.html-90ffdc9a.js" as="script"><link rel="prefetch" href="/fffxx/assets/22051201.html-7eb30723.js" as="script"><link rel="prefetch" href="/fffxx/assets/22101801.html-7775d091.js" as="script"><link rel="prefetch" href="/fffxx/assets/22101802.html-1ed78f5e.js" as="script"><link rel="prefetch" href="/fffxx/assets/21062401.html-8df4f695.js" as="script"><link rel="prefetch" href="/fffxx/assets/22101804.html-5fe86f36.js" as="script"><link rel="prefetch" href="/fffxx/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-941033f9.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-3380a396.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-459c60a2.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-bb6b9ed6.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-d273bf71.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-fa40caa2.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-0332c329.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-a7f629c8.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-625644d6.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-8a6e121c.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-c943d106.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-187cadbc.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-5dce6b1d.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-1ff4682a.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-e9d97546.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-3c78edf9.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-c3f7a9cb.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-38822561.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-c05b2aa2.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-fd8e65ef.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-5c089576.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-53e22a18.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-de418ba8.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-d79617b4.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-9b349383.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-f1f674b1.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-fb97b310.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-83374a67.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-590ad8f3.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-cf7de81d.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-aef11290.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-60ce3099.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-52c36b29.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-369838f9.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-c8bfeaca.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-d0480d73.js" as="script"><link rel="prefetch" href="/fffxx/assets/example.html-bb70d56f.js" as="script"><link rel="prefetch" href="/fffxx/assets/22101001.html-ad88f1cb.js" as="script"><link rel="prefetch" href="/fffxx/assets/22101803.html-7b4529e5.js" as="script"><link rel="prefetch" href="/fffxx/assets/index.html-cbc43f96.js" as="script"><link rel="prefetch" href="/fffxx/assets/21052801.html-0cd2d317.js" as="script"><link rel="prefetch" href="/fffxx/assets/21060501.html-16e78692.js" as="script"><link rel="prefetch" href="/fffxx/assets/21061101.html-4826e68f.js" as="script"><link rel="prefetch" href="/fffxx/assets/21061701.html-4cdfcfdd.js" as="script"><link rel="prefetch" href="/fffxx/assets/21121801.html-b8d330bb.js" as="script"><link rel="prefetch" href="/fffxx/assets/22012601.html-0bb574e3.js" as="script"><link rel="prefetch" href="/fffxx/assets/21062601.html-b4cd9c2e.js" as="script"><link rel="prefetch" href="/fffxx/assets/22051201.html-449aeefe.js" as="script"><link rel="prefetch" href="/fffxx/assets/22101801.html-35628f6b.js" as="script"><link rel="prefetch" href="/fffxx/assets/22101802.html-b9cf2959.js" as="script"><link rel="prefetch" href="/fffxx/assets/21062401.html-4f7d981e.js" as="script"><link rel="prefetch" href="/fffxx/assets/22101804.html-9693e618.js" as="script"><link rel="prefetch" href="/fffxx/assets/404.html-50a0bb59.js" as="script"><link rel="prefetch" href="/fffxx/assets/reco-valine-a0c1af1f.js" as="script">
    <link rel="preload" href="/fffxx/assets/style-259ce977.css" as="style"><link rel="stylesheet" href="/fffxx/assets/style-259ce977.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper series--no"><div><header class="navbar-container"><!--[--><div class="site-brand nav-item"><!----><a href="/fffxx/" class="site-name">PHYGRAY</a></div><div class="nav-item navbar-links-wrapper" style=""><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/fffxx/" class="link" aria-label="首页"><!--[--><!--]--><!--v-if--><span>首页</span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/fffxx/categories/ganxieshenghuo/1/" class="link" aria-label="分类"><!--[--><!--]--><!--v-if--><span>分类</span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/fffxx/tags/kaishi/1/" class="link" aria-label="标签"><!--[--><!--]--><!--v-if--><span>标签</span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/fffxx/docs/about/" class="link" aria-label="关于"><!--[--><!--]--><!--v-if--><span>关于</span><!--[--><!--]--></a></div><!--]--></nav><a class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></a><a class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></a></div><!--]--></header><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/fffxx/" class="link" aria-label="首页"><!--[--><!--]--><!--v-if--><span>首页</span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/fffxx/categories/ganxieshenghuo/1/" class="link" aria-label="分类"><!--[--><!--]--><!--v-if--><span>分类</span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/fffxx/tags/kaishi/1/" class="link" aria-label="标签"><!--[--><!--]--><!--v-if--><span>标签</span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/fffxx/docs/about/" class="link" aria-label="关于"><!--[--><!--]--><!--v-if--><span>关于</span><!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance</span><a class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></a></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><!----><a href="/fffxx/" class="site-name">PHYGRAY</a></div><!--[--><!--]--></aside><!--[--><main class="page-container show-catalog"><h1 class="page-title">优化 - 防抖和节流</h1><div class="page-info"><a class="xicon-container left" href="javascript:void(0)" target="_self"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->太灰<!--]--></span></a><!----><a class="xicon-container left" href="javascript:void(0)" target="_self"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->思考学习<!--]--></span></a><a class="xicon-container left" href="javascript:void(0)" target="_self"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->思考 Js 防抖 节流<!--]--></span></a><!----></div><div class="theme-reco-default-content"><div><!-- more --><h2 id="防抖函数-debounce" tabindex="-1"><a class="header-anchor" href="#防抖函数-debounce" aria-hidden="true">#</a> 防抖函数（Debounce）</h2><h3 id="概念理解" tabindex="-1"><a class="header-anchor" href="#概念理解" aria-hidden="true">#</a> 概念理解：</h3><blockquote><p><strong>防抖的解释</strong>：在一定时间内，多次触发，只执行一次。总结两种场景应用：</p></blockquote><p><strong>最后执行</strong>：多次触发时，则会把前面执行的函数去掉，重新开始计时，直到没有触发后，执行最后一次。</p><p>适用场景：</p><p>1、输入框远程搜索，在输入完成后，才会进行搜索。 2、快速点击点赞或者取消点赞。</p><p><strong>立即执行</strong>：多次触发时，函数立即执行，在规定时间节奏内，多次点击不再生效，直到这个时间节奏结束。</p><p>适用场景：禁止连续点击</p><h3 id="前提知识点" tabindex="-1"><a class="header-anchor" href="#前提知识点" aria-hidden="true">#</a> 前提知识点：</h3><p>需要在理解以下三个知识点，再去理解防抖节流。</p><ul><li>闭包</li><li>定时器应用</li><li>this 指针</li></ul><h3 id="函数代码" tabindex="-1"><a class="header-anchor" href="#函数代码" aria-hidden="true">#</a> 函数代码：</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/*
* @description: 防抖 - 触发后执行
* @param: {
	fn:回调函数；
	delay:number类型，setTimeout的时间参数；
	}
*/</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// 形成闭包 </span>
     <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
     <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>           <span class="token comment">// args 为函数调用时传的参数。</span>
          <span class="token keyword">let</span> _that <span class="token operator">=</span> <span class="token keyword">this</span>
          timer <span class="token operator">&amp;&amp;</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
          timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
               <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>_that<span class="token punctuation">,</span> args<span class="token punctuation">)</span>    <span class="token comment">// 利用apply更改this绑定和传参</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/*
* @description: 防抖 - 触发立即执行
* @param: {
	fn:回调函数；
	delay:number类型，setTimeout的时间参数；
	}
*/</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         <span class="token keyword">let</span> _that <span class="token operator">=</span> <span class="token keyword">this</span>
         <span class="token keyword">let</span> callNow <span class="token operator">=</span> <span class="token operator">!</span>timer<span class="token punctuation">;</span>
         timer <span class="token operator">&amp;&amp;</span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
         timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              timer <span class="token operator">=</span> <span class="token keyword">null</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>callNow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>_that<span class="token punctuation">,</span> args<span class="token punctuation">)</span>  
         <span class="token punctuation">}</span>
         <span class="token comment">// else { 可自定义连续点击触发的提示 }</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="调用方法" tabindex="-1"><a class="header-anchor" href="#调用方法" aria-hidden="true">#</a> 调用方法</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">debounce</span><span class="token punctuation">(</span>函数名<span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="节流函数-throttle" tabindex="-1"><a class="header-anchor" href="#节流函数-throttle" aria-hidden="true">#</a> 节流函数（Throttle）</h2><h3 id="概念理解-1" tabindex="-1"><a class="header-anchor" href="#概念理解-1" aria-hidden="true">#</a> 概念理解：</h3><blockquote><p>截流：一段时间内减少触发频率。</p></blockquote><p>适用场景：</p><p>1、页面上的滚动监听 2、页面的视窗变化</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/*
* @description: 节流 - 定时器型
* @param: {
	fn:回调函数；
	delay:number类型，setTimeout的时间参数；
	}
*/</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         <span class="token keyword">let</span> _that <span class="token operator">=</span> <span class="token keyword">this</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>timer<span class="token punctuation">)</span> <span class="token punctuation">{</span>						<span class="token comment">// 如果timer存在，说明函数还未该执行</span>
              timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
                   timer <span class="token operator">=</span> <span class="token keyword">null</span>				<span class="token comment">// 当函数执行时，让timer为null。</span>
                   <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>_that<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span>
         <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/*
* @description: 节流 - 时间计数型
* @param: {
	fn:回调函数；
	delay:number类型，setTimeout的时间参数；
	}
*/</span>
<span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> lastTime <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
         <span class="token keyword">let</span> _that <span class="token operator">=</span> <span class="token keyword">this</span>
         <span class="token keyword">let</span> nowTime <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>nowTime <span class="token operator">-</span> lastTime <span class="token operator">&gt;</span> delay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>_that<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
              lastTime <span class="token operator">=</span> nowTime
         <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="调用方法-1" tabindex="-1"><a class="header-anchor" href="#调用方法-1" aria-hidden="true">#</a> 调用方法</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">throttle</span><span class="token punctuation">(</span>函数名<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="关于几个问题的解释" tabindex="-1"><a class="header-anchor" href="#关于几个问题的解释" aria-hidden="true">#</a> 关于几个问题的解释：</h2><h3 id="指针问题" tabindex="-1"><a class="header-anchor" href="#指针问题" aria-hidden="true">#</a> 指针问题：</h3><p>因为程序中很多地方都需要使用 this 指针，如果对于this指向的理解不深入的话，很容易出现以下情况：</p><p><code>1:this==undefined</code><code>2:Error:data is not defined</code></p><p>apply、call、bind 是为了改变 this 指针而应用。</p><p>具体理解需学习相关专题。</p><h3 id="闭包问题" tabindex="-1"><a class="header-anchor" href="#闭包问题" aria-hidden="true">#</a> 闭包问题：</h3><p>代码中 return {} 用到了闭包的概念，作用是将定义的自由变量（如：timer）在本次作用域内不被销毁的调用。</p><p>vue 中结合实例 data 特性，可以不使用闭包，需将 timer 自由变量定义在 data 内。（本身可以理解为一个大闭包）</p><p>具体理解需学习相关专题。</p><h3 id="事件执行问题" tabindex="-1"><a class="header-anchor" href="#事件执行问题" aria-hidden="true">#</a> 事件执行问题：</h3><p>在 html 的 onclick 行内添加一个方法（或者在 vue @click事件），每次触发点击事件都会执行该方法，看似没什么问题，但如果这个方法返回的是一个方法呢，如果我们想让返回出来的方法得到执行，就要在行内的末尾加上一对括号，结果就是每次执行返回出来的内部方法都是新的，<a href="">闭包</a>？我们想要使用的闭包失效了。</p><p>解决方案 2 种：</p><ol><li><p>在 script 标签中给 dom 元素的 onclick 赋值这个方法的执行，返回出来的内部方法就可以应用闭包</p><p>（原生 js）<code>Dom.onclick = debounce(fn,delay)</code></p><p>（vue 的 method）： <code>handle: debounce(fn,delay)</code></p></li><li><p>使用 addEventListener 给 dom 元素添加 click 事件，赋值依然为外层方法的执行</p><p><code>Dom.addEventListener(&#39;click&#39;, debounce(submit), false)</code></p></li></ol><p><strong>具体理解为什么闭包会失效？</strong></p><p>先了解 <a href="https://www.runoob.com/jsref/event-onclick.html" target="_blank" rel="noopener noreferrer">onclick<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>onclick<span class="token operator">=</span><span class="token string">&quot; SomeJavaScriptCode &quot;</span> 
<span class="token comment">// 等价于</span>
object<span class="token punctuation">.</span><span class="token function-variable function">onclick</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> SomeJavaScriptCode <span class="token punctuation">}</span>
<span class="token comment">/*
点击执行 function 调用 debounce，debounce 直接 return ，相当于 function 运行指针到了 一段代码明文
这段代码字符串后面如果跟括号，可以正常运行，但是脱离了原本的闭包函数，相当于一个新的函数，闭包内的 自由变量 就会失去原来的空间栈，所以每次运行都会重新定义
*/</span>

object<span class="token punctuation">.</span>onclick <span class="token operator">=</span> SomeJavaScriptCode 
<span class="token comment">// 注意和上边的区别</span>
<span class="token comment">/*
点击就直接执行 debounce，onclick 就是 debounce，给予 debounce onclick的事件属性
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></div><footer class="page-meta"><!----><!----></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#防抖函数-debounce" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="防抖函数（Debounce）"><!--[--><!--]--><!--v-if--><span>防抖函数（Debounce）</span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#概念理解" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="概念理解："><!--[--><!--]--><!--v-if--><span>概念理解：</span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#前提知识点" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="前提知识点："><!--[--><!--]--><!--v-if--><span>前提知识点：</span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#函数代码" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="函数代码："><!--[--><!--]--><!--v-if--><span>函数代码：</span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#调用方法" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="调用方法"><!--[--><!--]--><!--v-if--><span>调用方法</span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#节流函数-throttle" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="节流函数（Throttle）"><!--[--><!--]--><!--v-if--><span>节流函数（Throttle）</span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#概念理解-1" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="概念理解："><!--[--><!--]--><!--v-if--><span>概念理解：</span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#调用方法-1" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="调用方法"><!--[--><!--]--><!--v-if--><span>调用方法</span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#关于几个问题的解释" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="关于几个问题的解释："><!--[--><!--]--><!--v-if--><span>关于几个问题的解释：</span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#指针问题" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="指针问题："><!--[--><!--]--><!--v-if--><span>指针问题：</span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#闭包问题" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="闭包问题："><!--[--><!--]--><!--v-if--><span>闭包问题：</span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/fffxx/blogs/front-end/javascript/22032801.html#事件执行问题" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="事件执行问题："><!--[--><!--]--><!--v-if--><span>事件执行问题：</span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/fffxx/assets/app-321605fc.js" defer></script>
  </body>
</html>
